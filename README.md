# üß© Patterns (demo)

## üìù –û–ø–∏—Å–∞–Ω–∏–µ
–î–∞–Ω–Ω—ã–π demo-–ø—Ä–æ–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä–æ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è GoF.  

### –°—Ç—Ä–æ–∏—Ç–µ–ª—å  
–°—Ç—Ä–æ–∏—Ç–µ–ª—å: —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∫–ª–∞—Å—Å SelectQueryBuilder —Å –º–µ—Ç–æ–¥–∞–º–∏:
```
- from(string $table)
- where(string $field, string $value)
- orderBy(string $field, string $direction)
- execute()
```
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –º–µ—Ç–æ–¥–∞–º: 
- –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –≤—Å–µ –ø–æ–ª—è –∏–∑ —Ç–∞–±–ª–∏—Ü—ã (SELECT *)
- –º–µ—Ç–æ–¥ from() –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ (–ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—ã–∑–æ–≤–µ –æ–Ω –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç –∏–º—è —Ç–∞–±–ª–∏—Ü—ã)
- –º–µ—Ç–æ–¥ where() –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª–µ–π
- –º–µ—Ç–æ–¥ orderBy() –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ (–ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—ã–∑–æ–≤–µ –æ–Ω –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏)
- –º–µ—Ç–æ–¥ execute() –¥–æ–ª–∂–µ–Ω –ø–æ—Å—Ç—Ä–æ–∏—Ç—å SQL-–∑–∞–ø—Ä–æ—Å, –ø–æ–ª–æ–∂–∏—Ç—å –µ–≥–æ –≤ –æ–±—ä–µ–∫—Ç DatabaseQueryResult –∏ –≤–µ—Ä–Ω—É—Ç—å —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–±—ä–µ–∫—Ç—É DatabaseQueryResult: –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Iterator (—á—Ç–æ–±—ã –µ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ "–ø–µ—Ä–µ–±—Ä–∞—Ç—å" —á–µ—Ä–µ–∑ foreach).

–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:
```php
$queryBuilder = new QueryBuilder();
$result = $queryBuilder
    ->from('products')
    ->where('type', '–ö–æ–ª–±–∞—Å–∞')
    ->where('price', 10000)
    ->orderBy('id', 'DESC')
    ->execute();

foreach ($result as $product) {
    echo $product->title.PHP_EOL;
}
```


### –ü—Ä–æ–∫—Å–∏  
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ DatabaseQueryResult —Å—Ä–∞–∑—É –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è SQL-–∑–∞–ø—Ä–æ—Å.  
–ù—É–∂–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∫–ª–∞—Å—Å DatabaseQueryResultProxy, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ DatabaseQueryResult,   
–Ω–æ –ø—Ä–∏ —ç—Ç–æ–º SQL-–∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤ –º–æ–º–µ–Ω—Ç –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ foreach (–ª–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è).


### –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å
–î–æ–±–∞–≤–∏—Ç—å 2 —Å–æ–±—ã—Ç–∏—è –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞:
- DatabaseQueryResultIsCreated (–ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ DatabaseQueryResult)
- SqlIsExecuted (–ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL-–∑–∞–ø—Ä–æ—Å–∞)

–†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ –∫–æ–¥ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —ç—Ç–∏ —Å–æ–±—ã—Ç–∏—è.


## üéØ –¶–µ–ª–∏
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è GoF.
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üìë –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- üê≥ –ì–æ—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ ‚Äî Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- ‚öôÔ∏è –£–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Äî Makefile —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
